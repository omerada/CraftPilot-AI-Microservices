{
  "info": {
    "_postman_id": "a5c238e3-9d68-4d1c-b8ab-720f01234567",
    "name": "Craft-Pilot-AI API",
    "description": "Craft-Pilot-AI backend API koleksiyonu",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "User Preferences",
      "description": "Kullanıcı tercihleri ile ilgili API'ler",
      "item": [
        {
          "name": "Get User Preferences",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users/{{userId}}/preferences",
              "host": ["{{base_url}}"],
              "path": ["users", "{{userId}}", "preferences"]
            },
            "description": "Kullanıcı tercihlerini getir"
          },
          "response": []
        },
        {
          "name": "Create User Preferences",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"theme\": \"dark\",\n  \"language\": \"tr\",\n  \"notifications\": true,\n  \"pushEnabled\": true,\n  \"aiModelFavorites\": [\"gpt-3.5-turbo\", \"gpt-4\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/users/{{userId}}/preferences",
              "host": ["{{base_url}}"],
              "path": ["users", "{{userId}}", "preferences"]
            },
            "description": "Yeni kullanıcı tercihleri oluştur"
          },
          "response": []
        },
        {
          "name": "Update User Preferences",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"theme\": \"light\",\n  \"language\": \"en\",\n  \"notifications\": true,\n  \"pushEnabled\": false,\n  \"aiModelFavorites\": [\"gpt-3.5-turbo\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/users/{{userId}}/preferences",
              "host": ["{{base_url}}"],
              "path": ["users", "{{userId}}", "preferences"]
            },
            "description": "Kullanıcı tercihlerini güncelle"
          },
          "response": []
        },
        {
          "name": "Delete User Preferences",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users/{{userId}}/preferences",
              "host": ["{{base_url}}"],
              "path": ["users", "{{userId}}", "preferences"]
            },
            "description": "Kullanıcı tercihlerini sil"
          },
          "response": []
        },
        {
          "name": "Update Theme",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users/{{userId}}/preferences/theme?theme=dark",
              "host": ["{{base_url}}"],
              "path": ["users", "{{userId}}", "preferences", "theme"],
              "query": [
                {
                  "key": "theme",
                  "value": "dark"
                }
              ]
            },
            "description": "Tema tercihini güncelle"
          },
          "response": []
        },
        {
          "name": "Update Language",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"language\": \"en\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/users/{{userId}}/preferences/language",
              "host": ["{{base_url}}"],
              "path": ["users", "{{userId}}", "preferences", "language"]
            },
            "description": "Dil tercihini güncelle"
          },
          "response": []
        },
        {
          "name": "Update AI Model Favorites",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\"gpt-3.5-turbo\", \"gpt-4\", \"claude-v2\"]"
            },
            "url": {
              "raw": "{{base_url}}/users/{{userId}}/preferences/ai-model-favorites",
              "host": ["{{base_url}}"],
              "path": [
                "users",
                "{{userId}}",
                "preferences",
                "ai-model-favorites"
              ]
            },
            "description": "Favori AI modellerini güncelle"
          },
          "response": []
        },
        {
          "name": "Get AI Model Favorites",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users/{{userId}}/preferences/ai-model-favorites",
              "host": ["{{base_url}}"],
              "path": [
                "users",
                "{{userId}}",
                "preferences",
                "ai-model-favorites"
              ]
            },
            "description": "Favori AI modellerini getir"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Chat History",
      "description": "Sohbet geçmişi ile ilgili API'ler",
      "item": [
        {
          "name": "Get Chat Histories (Categorized)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/ai/chat/histories?userId={{userId}}&page=1&pageSize=10",
              "host": ["{{base_url}}"],
              "path": ["ai", "chat", "histories"],
              "query": [
                {
                  "key": "userId",
                  "value": "{{userId}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "pageSize",
                  "value": "10"
                },
                {
                  "key": "sortBy",
                  "value": "updatedAt",
                  "disabled": true
                },
                {
                  "key": "sortOrder",
                  "value": "desc",
                  "disabled": true
                },
                {
                  "key": "searchQuery",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Kategorilere ayrılmış sohbet geçmişini getir"
          },
          "response": []
        },
        {
          "name": "Get Flat Chat Histories (ChatGPT Style)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/ai/chat/flat-histories?userId={{userId}}&offset=0&limit=20&order=updated",
              "host": ["{{base_url}}"],
              "path": ["ai", "chat", "flat-histories"],
              "query": [
                {
                  "key": "userId",
                  "value": "{{userId}}"
                },
                {
                  "key": "offset",
                  "value": "0"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "order",
                  "value": "updated"
                }
              ]
            },
            "description": "ChatGPT benzeri düz liste halinde sohbet geçmişini getir"
          },
          "response": []
        },
        {
          "name": "Get Chat History By ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/ai/chat/histories/{{chatId}}",
              "host": ["{{base_url}}"],
              "path": ["ai", "chat", "histories", "{{chatId}}"]
            },
            "description": "Belirli bir sohbet geçmişini getir"
          },
          "response": []
        },
        {
          "name": "Create Chat History",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"title\": \"Yeni Sohbet\",\n  \"enable\": true,\n  \"conversations\": []\n}"
            },
            "url": {
              "raw": "{{base_url}}/ai/chat/histories",
              "host": ["{{base_url}}"],
              "path": ["ai", "chat", "histories"]
            },
            "description": "Yeni sohbet geçmişi oluştur"
          },
          "response": []
        },
        {
          "name": "Update Chat History",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"title\": \"Güncellenmiş Sohbet Başlığı\",\n  \"enable\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/ai/chat/histories/{{chatId}}",
              "host": ["{{base_url}}"],
              "path": ["ai", "chat", "histories", "{{chatId}}"]
            },
            "description": "Sohbet geçmişini güncelle"
          },
          "response": []
        },
        {
          "name": "Delete Chat History",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/ai/chat/histories/{{chatId}}",
              "host": ["{{base_url}}"],
              "path": ["ai", "chat", "histories", "{{chatId}}"]
            },
            "description": "Sohbet geçmişini sil"
          },
          "response": []
        },
        {
          "name": "Add Conversation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"user\",\n  \"content\": \"Merhaba, bu bir test mesajıdır.\",\n  \"orderIndex\": 1\n}"
            },
            "url": {
              "raw": "{{base_url}}/ai/chat/histories/{{chatId}}/conversations",
              "host": ["{{base_url}}"],
              "path": ["ai", "chat", "histories", "{{chatId}}", "conversations"]
            },
            "description": "Sohbete yeni mesaj ekle"
          },
          "response": []
        },
        {
          "name": "Update Chat Title",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Yeni Sohbet Başlığı\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/ai/chat/histories/{{chatId}}/update-title",
              "host": ["{{base_url}}"],
              "path": ["ai", "chat", "histories", "{{chatId}}", "update-title"]
            },
            "description": "Sohbet başlığını güncelle"
          },
          "response": []
        },
        {
          "name": "Archive Chat",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/ai/chat/histories/{{chatId}}/do-archive",
              "host": ["{{base_url}}"],
              "path": ["ai", "chat", "histories", "{{chatId}}", "do-archive"]
            },
            "description": "Sohbeti arşivle"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Notification Preferences",
      "description": "Bildirim tercihleri ile ilgili API'ler",
      "item": [
        {
          "name": "Create Notification Preference",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"channelPreferences\": {\n    \"SYSTEM\": [\"email\", \"push\"],\n    \"CHAT\": [\"push\"],\n    \"MARKETING\": [\"email\"]\n  },\n  \"email\": \"user@example.com\",\n  \"deviceToken\": \"device-token-123\",\n  \"additionalSettings\": {\n    \"emailFrequency\": \"daily\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/notifications/preferences",
              "host": ["{{base_url}}"],
              "path": ["notifications", "preferences"]
            },
            "description": "Yeni bildirim tercihi oluştur"
          },
          "response": []
        },
        {
          "name": "Get Notification Preference By ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/notifications/preferences/{{preferenceId}}",
              "host": ["{{base_url}}"],
              "path": ["notifications", "preferences", "{{preferenceId}}"]
            },
            "description": "Bildirim tercihlerini ID ile getir"
          },
          "response": []
        },
        {
          "name": "Get User Notification Preference",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/notifications/preferences/user/{{userId}}",
              "host": ["{{base_url}}"],
              "path": ["notifications", "preferences", "user", "{{userId}}"]
            },
            "description": "Kullanıcının bildirim tercihlerini getir"
          },
          "response": []
        },
        {
          "name": "Update Notification Preference",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"channelPreferences\": {\n    \"SYSTEM\": [\"email\"],\n    \"CHAT\": [\"push\"],\n    \"MARKETING\": []\n  },\n  \"email\": \"updated-user@example.com\",\n  \"deviceToken\": \"device-token-123\",\n  \"additionalSettings\": {\n    \"emailFrequency\": \"weekly\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/notifications/preferences/{{preferenceId}}",
              "host": ["{{base_url}}"],
              "path": ["notifications", "preferences", "{{preferenceId}}"]
            },
            "description": "Bildirim tercihlerini güncelle"
          },
          "response": []
        },
        {
          "name": "Delete Notification Preference",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/notifications/preferences/{{preferenceId}}",
              "host": ["{{base_url}}"],
              "path": ["notifications", "preferences", "{{preferenceId}}"]
            },
            "description": "Bildirim tercihlerini sil"
          },
          "response": []
        },
        {
          "name": "Verify Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/notifications/preferences/verify/email/{{userId}}?token=verification-token-123",
              "host": ["{{base_url}}"],
              "path": [
                "notifications",
                "preferences",
                "verify",
                "email",
                "{{userId}}"
              ],
              "query": [
                {
                  "key": "token",
                  "value": "verification-token-123"
                }
              ]
            },
            "description": "E-posta adresini doğrula"
          },
          "response": []
        },
        {
          "name": "Verify Phone",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/notifications/preferences/verify/phone/{{userId}}?code=123456",
              "host": ["{{base_url}}"],
              "path": [
                "notifications",
                "preferences",
                "verify",
                "phone",
                "{{userId}}"
              ],
              "query": [
                {
                  "key": "code",
                  "value": "123456"
                }
              ]
            },
            "description": "Telefon numarasını doğrula"
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5173/api",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "E4gQS64XQ7fzgUFEZhYRgc6tytw2",
      "type": "string"
    },
    {
      "key": "chatId",
      "value": "your-chat-id-here",
      "type": "string"
    },
    {
      "key": "preferenceId",
      "value": "your-preference-id-here",
      "type": "string"
    },
    {
      "key": "token",
      "value": "your-auth-token-here",
      "type": "string"
    }
  ]
}
